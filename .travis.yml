language: java
jdk:
  - openjdk11

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.m2/
addons:
  sonarcloud:
    organization: "steklopod-github"
    token:
      secure: 46667ecec393ca3715f8c6e344d583f6562b7311

before_install:
  - chmod +x gradlew
install: skip

script:
  - ./gradlew tasks
  - ./gradlew build
after_script:
  - ./gradlew sonarqube

notifications:
  email:
    on_success: never
    on_failure: always
